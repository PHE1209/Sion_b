{% extends 'index_master.html' %}

{% block content %}
<div class="right_col" role="main">
    <h1>EDITAR NÓMINA</h1>

    {% if form.errors %}
    <div class="alert alert-danger">
        {% for field, error_list in form.errors.items %}
        <p>{{ field }}: {{ error_list|join:", " }}</p>
        {% endfor %}
    </div>
    {% endif %}

    <form action="{% url 'editar_nomina' nomina.id %}" method="POST">
        {% csrf_token %}

        <div class="form-group row">
            <label for="id" class="col-4 col-form-label">ID</label>
            <div class="col-8">
                <input id="id" name="id" type="text" class="form-control" value="{{ nomina.id }}" readonly>
            </div>
        </div>

        <div class="form-group row">
            <label for="id_id_proyecto" class="col-4 col-form-label">ID Proyecto</label>
            <div class="col-8">
                <div class="input-group">
                    <div class="input-group-prepend">
                        <div class="input-group-text"><i class="fa fa-500px"></i></div>
                    </div>
                    <select id="id_id_proyecto" name="id_proyecto" class="form-control" required>
                        {% for proyecto in proyectos %}
                            <option value="{{ proyecto.id }}" {% if proyecto.id == nomina.id_proyecto.id %}selected{% endif %}>
                                {{ proyecto.nombre }} ({{ proyecto.id }})
                            </option>
                        {% endfor %}
                    </select>
                </div>
            </div>
        </div>

        <div class="form-group row">
            <label for="id_empresa" class="col-4 col-form-label">Empresa</label>
            <div class="col-8">
                <div class="input-group">
                    <div class="input-group-prepend">
                        <div class="input-group-text"><i class="fa fa-building"></i></div>
                    </div>
                    <input id="id_empresa" name="empresa" type="text" class="form-control" value="{{ nomina.empresa }}" required maxlength="25">
                </div>
            </div>
        </div>

        <div class="form-group row">
            <label for="id_fecha_ingreso" class="col-4 col-form-label">Fecha Ingreso</label>
            <div class="col-8">
                <div class="input-group">
                    <div class="input-group-prepend">
                        <div class="input-group-text"><i class="fa fa-calendar"></i></div>
                    </div>
                    <input id="id_fecha_ingreso" name="fecha_ingreso" type="date" class="form-control" value="{{ nomina.fecha_ingreso|date:'Y-m-d' }}">
                </div>
            </div>
        </div>

        <div class="form-group row">
            <label for="id_nombre" class="col-4 col-form-label">Nombre</label>
            <div class="col-8">
                <div class="input-group">
                    <div class="input-group-prepend">
                        <div class="input-group-text"><i class="fa fa-user"></i></div>
                    </div>
                    <input id="id_nombre" name="nombre" type="text" class="form-control" value="{{ nomina.nombre }}" required maxlength="50">
                </div>
            </div>
        </div>

        <div class="form-group row">
            <label for="id_apellido" class="col-4 col-form-label">Apellido</label>
            <div class="col-8">
                <div class="input-group">
                    <div class="input-group-prepend">
                        <div class="input-group-text"><i class="fa fa-user"></i></div>
                    </div>
                    <input id="id_apellido" name="apellido" type="text" class="form-control" value="{{ nomina.apellido }}" required maxlength="50">
                </div>
            </div>
        </div>

        <div class="form-group row">
            <label for="id_rut" class="col-4 col-form-label">RUT</label>
            <div class="col-8">
                <div class="input-group">
                    <div class="input-group-prepend">
                        <div class="input-group-text"><i class="fa fa-id-card"></i></div>
                    </div>
                    <input id="id_rut" name="rut" type="text" class="form-control" value="{{ nomina.rut }}" required maxlength="25">
                </div>
            </div>
        </div>

        <div class="form-group row">
            <label for="id_email" class="col-4 col-form-label">Email</label>
            <div class="col-8">
                <div class="input-group">
                    <div class="input-group-prepend">
                        <div class="input-group-text"><i class="fa fa-envelope"></i></div>
                    </div>
                    <input id="id_email" name="email" type="email" class="form-control" value="{{ nomina.email }}" required maxlength="50">
                </div>
            </div>
        </div>

        <div class="form-group row">
            <label for="id_telefono" class="col-4 col-form-label">Teléfono</label>
            <div class="col-8">
                <div class="input-group">
                    <div class="input-group-prepend">
                        <div class="input-group-text"><i class="fa fa-phone"></i></div>
                    </div>
                    <input id="id_telefono" name="telefono" type="text" class="form-control" value="{{ nomina.telefono }}" required maxlength="15">
                </div>
            </div>
        </div>

        <div class="form-group row">
            <label for="id_cargo" class="col-4 col-form-label">Cargo</label>
            <div class="col-8">
                <div class="input-group">
                    <div class="input-group-prepend">
                        <div class="input-group-text"><i class="fa fa-briefcase"></i></div>
                    </div>
                    <input id="id_cargo" name="cargo" type="text" class="form-control" value="{{ nomina.cargo }}" required maxlength="25">
                </div>
            </div>
        </div>

        <div class="form-group row">
            <label for="id_titulo" class="col-4 col-form-label">Título</label>
            <div class="col-8">
                <div class="input-group">
                    <div class="input-group-prepend">
                        <div class="input-group-text"><i class="fa fa-graduation-cap"></i></div>
                    </div>
                    <input id="id_titulo" name="titulo" type="text" class="form-control" value="{{ nomina.titulo }}" required maxlength="25">
                </div>
            </div>
        </div>

        <div class="form-group row">
            <label for="id_turno" class="col-4 col-form-label">Turno</label>
            <div class="col-8">
                <div class="input-group">
                    <div class="input-group-prepend">
                        <div class="input-group-text"><i class="fa fa-clock-o"></i></div>
                    </div>
                    <select id="id_turno" name="turno" class="form-control">
                        <option value="" {% if not nomina.turno %}selected{% endif %}>-- Seleccionar --</option>
                        <option value="4x3 excepcional" {% if nomina.turno == '4x3 excepcional' %}selected{% endif %}>4x3 excepcional</option>
                        <option value="5x2 ordinaria" {% if nomina.turno == '5x2 ordinaria' %}selected{% endif %}>5x2 ordinaria</option>
                        <option value="7x7 excepcional" {% if nomina.turno == '7x7 excepcional' %}selected{% endif %}>7x7 excepcional</option>
                        <option value="8x6 bisemanal" {% if nomina.turno == '8x6 bisemanal' %}selected{% endif %}>8x6 bisemanal</option>
                        <option value="10x10 excepcional" {% if nomina.turno == '10x10 excepcional' %}selected{% endif %}>10x10 excepcional</option>
                        <option value="14x14 excepcional" {% if nomina.turno == '14x14 excepcional' %}selected{% endif %}>14x14 excepcional</option>
                    </select>
                </div>
            </div>
        </div>

        <div class="form-group row">
            <label for="id_primer_dia" class="col-4 col-form-label">Primer Día</label>
            <div class="col-8">
                <div class="input-group">
                    <div class="input-group-prepend">
                        <div class="input-group-text"><i class="fa fa-calendar"></i></div>
                    </div>
                    <input id="id_primer_dia" name="primer_dia" type="date" class="form-control" value="{{ nomina.primer_dia|date:'Y-m-d' }}">
                </div>
            </div>
        </div>

        <div class="form-group row">
            <label for="id_ultimo_dia" class="col-4 col-form-label">Último Día</label>
            <div class="col-8">
                <div class="input-group">
                    <div class="input-group-prepend">
                        <div class="input-group-text"><i class="fa fa-calendar"></i></div>
                    </div>
                    <input id="id_ultimo_dia" name="ultimo_dia" type="date" class="form-control" value="{{ nomina.ultimo_dia|date:'Y-m-d' }}">
                </div>
            </div>
        </div>

        <div class="form-group row">
            <div class="col-8 offset-4">
                <button type="submit" class="btn btn-primary">Guardar</button>
            </div>
        </div>
    </form>
</div>
{% endblock %}